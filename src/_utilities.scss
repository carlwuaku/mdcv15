// Modern Utility Classes - Add to a separate _utilities.scss file or include in main styles

// ================================
// MODERN COMPONENT CLASSES
// ================================

// Modern Cards
.card-modern {
  @apply rounded-xl shadow-lg border border-gray-200 bg-white transition-all duration-300;

  &:hover {
    @apply -translate-y-0.5 shadow-xl;
  }
}

.card-flat {
  @apply rounded-lg border border-gray-100 bg-white transition-all duration-300;

  &:hover {
    @apply shadow-md border-gray-200;
  }
}

// Primary colored card
.card-primary {
  @apply rounded-xl shadow-lg border-0 transition-all duration-300;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
  color: white;

  &:hover {
    @apply -translate-y-0.5 shadow-xl;
    box-shadow: 0 25px 50px rgba(63, 81, 181, 0.3);
  }

  // Text colors for primary cards
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: white;
  }

  p,
  span,
  div {
    &:not(.badge-modern):not(.alert-modern) {
      color: rgba(255, 255, 255, 0.95);
    }
  }

  // Icon colors
  mat-icon,
  .material-icons {
    color: rgba(255, 255, 255, 0.9);
  }

  // Link colors
  a {
    color: rgba(255, 255, 255, 0.9);

    &:hover {
      color: white;
    }
  }

  // Muted text
  .text-muted,
  .text-secondary {
    color: rgba(255, 255, 255, 0.7) !important;
  }

  // Stats or numbers
  .stat-number,
  .number {
    color: white;
    font-weight: 600;
  }

  // Subtle text
  .text-subtle {
    color: rgba(255, 255, 255, 0.8);
  }
}

// Variant: Primary card with solid background (no gradient)
.card-primary-solid {
  @apply rounded-xl shadow-lg border-0 transition-all duration-300;
  background-color: var(--primary-color);
  color: white;

  &:hover {
    @apply -translate-y-0.5 shadow-xl;
    background-color: var(--primary-dark);
    box-shadow: 0 25px 50px rgba(63, 81, 181, 0.3);
  }

  // Apply same text/icon styling as gradient version
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: white;
  }

  p,
  span,
  div {
    &:not(.badge-modern):not(.alert-modern) {
      color: rgba(255, 255, 255, 0.95);
    }
  }

  mat-icon,
  .material-icons {
    color: rgba(255, 255, 255, 0.9);
  }

  a {
    color: rgba(255, 255, 255, 0.9);

    &:hover {
      color: white;
    }
  }

  .text-muted,
  .text-secondary {
    color: rgba(255, 255, 255, 0.7) !important;
  }

  .stat-number,
  .number {
    color: white;
    font-weight: 600;
  }

  .text-subtle {
    color: rgba(255, 255, 255, 0.8);
  }
}

// Light primary card (for better readability when needed)
.card-primary-light {
  @apply rounded-xl shadow-lg border border-primary-200 transition-all duration-300;
  background-color: var(--primary-lighter);
  color: var(--primary-dark);

  &:hover {
    @apply -translate-y-0.5 shadow-xl;
    background-color: var(--primary-light);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--primary-dark);
  }

  p,
  span,
  div {
    color: var(--text-primary);
  }

  mat-icon,
  .material-icons {
    color: var(--primary-color);
  }

  a {
    color: var(--primary-color);

    &:hover {
      color: var(--primary-dark);
    }
  }

  .text-muted,
  .text-secondary {
    color: var(--text-secondary) !important;
  }
}

.card-white {
  @apply rounded-xl shadow-lg border border-primary-200 transition-all duration-300;
  background-color: var(--bg-primary);
  color: var(--primary-dark);

  &:hover {
    @apply -translate-y-0.5 shadow-xl;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--primary-dark);
  }

  p,
  span,
  div {
    color: var(--text-primary);
  }

  mat-icon,
  .material-icons {
    color: var(--primary-color);
  }

  a {
    color: var(--primary-color);

    &:hover {
      color: var(--primary-dark);
    }
  }

  .text-muted,
  .text-secondary {
    color: var(--text-secondary) !important;
  }
}

// Modern Buttons (NO GRADIENTS)
.btn-modern {
  @apply rounded-lg font-medium transition-all duration-300 px-6 py-3 inline-flex items-center justify-center gap-2;

  &:hover:not(:disabled) {
    @apply -translate-y-0.5 shadow-md;
  }

  &:active:not(:disabled) {
    @apply translate-y-0;
  }

  &:disabled {
    @apply opacity-60 cursor-not-allowed;
  }
}

.btn-primary {
  @apply bg-primary-500 text-white;

  &:hover:not(:disabled) {
    @apply bg-primary-600;
  }
}

.btn-secondary {
  @apply bg-secondary-500 text-white;

  &:hover:not(:disabled) {
    @apply bg-secondary-600;
  }
}

.btn-outline {
  @apply border-2 border-primary-500 text-primary-500 bg-transparent;

  &:hover:not(:disabled) {
    @apply bg-primary-50 border-primary-600 text-primary-600;
  }
}

.btn-ghost {
  @apply text-primary-500 bg-transparent;

  &:hover:not(:disabled) {
    @apply bg-primary-50;
  }
}

// Modern Form Fields
.form-field-modern {

  input,
  textarea,
  select {
    @apply rounded-lg transition-all duration-150 border-gray-300;

    &:focus {
      @apply -translate-y-0.5 border-primary-500 ring-2 ring-primary-100;
    }
  }
}

// Modern Alerts
.alert-modern {
  @apply p-4 rounded-lg flex items-center gap-3 font-medium;
}

.alert-success {
  @apply bg-success-50 text-success-700 border border-success-200;
}

.alert-warning {
  @apply bg-warning-50 text-warning-700 border border-warning-200;
}

.alert-error {
  @apply bg-error-50 text-error-700 border border-error-200;
}

.alert-info {
  @apply bg-info-50 text-info-700 border border-info-200;
}

// Modern Tables
.table-modern {
  @apply rounded-lg overflow-hidden shadow-sm border border-gray-200;

  thead {
    @apply bg-gray-50;

    th {
      @apply font-semibold text-gray-700 border-b-2 border-primary-500;
    }
  }

  tbody tr {
    @apply transition-colors duration-150;

    &:hover {
      @apply bg-primary-50;
    }

    &:nth-child(even) {
      @apply bg-gray-50;
    }
  }
}

// Dashboard Cards
.dashboard-card-modern {
  @apply relative overflow-hidden rounded-xl transition-all duration-300;

  .icon {
    @apply absolute bottom-2 right-2 transition-all duration-300 text-black/10;
  }

  &:hover {
    @apply -translate-y-0.5 shadow-xl;

    .icon {
      @apply text-white/80 scale-110;
    }
  }
}

// ================================
// LAYOUT UTILITIES
// ================================

// Container variations
.container-modern {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

.container-narrow {
  @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
}

.container-wide {
  @apply max-w-none mx-auto px-4 sm:px-6 lg:px-8;
}

// Flex utilities
.flex-center {
  @apply flex items-center justify-center;
}

.flex-between {
  @apply flex items-center justify-between;
}

.flex-start {
  @apply flex items-center justify-start;
}

.flex-end {
  @apply flex items-center justify-end;
}

// Grid utilities
.grid-auto-fit {
  @apply grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.grid-auto-fill {
  @apply grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

// ================================
// BACKGROUND UTILITIES
// ================================

// Page backgrounds (subtle gradients for pages, not buttons)
.bg-page-gradient {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.bg-page-light {
  @apply bg-gradient-to-br from-gray-50 to-gray-100;
}

.bg-page-subtle {
  @apply bg-gradient-to-br from-primary-50/50 to-secondary-50/50;
}

// Glass morphism
.glass {
  @apply bg-white/95;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-dark {
  @apply bg-gray-900/95;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

// ================================
// TEXT UTILITIES
// ================================

// Text sizes with proper line heights
.text-display {
  @apply text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight;
}

.text-heading {
  @apply text-2xl sm:text-3xl lg:text-4xl font-semibold leading-tight;
}

.text-subheading {
  @apply text-lg sm:text-xl lg:text-2xl font-medium leading-relaxed;
}

.text-body {
  @apply text-base leading-relaxed;
}

.text-small {
  @apply text-sm leading-relaxed;
}

.text-tiny {
  @apply text-xs leading-relaxed;
}

// Text colors
.text-muted {
  @apply text-gray-500;
}

.text-subtle {
  @apply text-gray-400;
}

.text-emphasis {
  @apply text-gray-900;
}

// ================================
// SPACING UTILITIES
// ================================

// Section spacing
.section-padding {
  @apply py-12 sm:py-16 lg:py-20;
}

.section-margin {
  @apply my-12 sm:my-16 lg:my-20;
}

// Content spacing
.content-spacing>*+* {
  @apply mt-4;
}

.content-spacing-lg>*+* {
  @apply mt-6;
}

.content-spacing-xl>*+* {
  @apply mt-8;
}

// ================================
// ANIMATION UTILITIES
// ================================

// Entrance animations
.animate-fade-in {
  animation: fadeIn 0.5s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.6s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.6s ease-out;
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

// Hover animations
.hover-lift {
  @apply transition-transform duration-300;

  &:hover {
    @apply -translate-y-1;
  }
}

.hover-scale {
  @apply transition-transform duration-300;

  &:hover {
    @apply scale-105;
  }
}

.hover-scale-sm {
  @apply transition-transform duration-300;

  &:hover {
    @apply scale-100;
  }
}

// ================================
// SCROLL UTILITIES
// ================================

.scrollbar-thin {
  &::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  &::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-sm;
  }

  &::-webkit-scrollbar-thumb {
    @apply bg-primary-500 rounded-sm;

    &:hover {
      @apply bg-primary-600;
    }
  }
}

.scrollbar-hide {
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

// ================================
// FOCUS UTILITIES
// ================================

.focus-modern {
  &:focus {
    @apply outline-2 outline-primary-500 outline-offset-2 ring-2 ring-primary-200;
  }
}

.focus-within-modern {
  &:focus-within {
    @apply ring-2 ring-primary-200 border-primary-500;
  }
}

// ================================
// RESPONSIVE UTILITIES
// ================================

// Mobile first spacing
.space-mobile {
  @apply space-y-4 sm:space-y-6 lg:space-y-8;
}

// Mobile navigation
.mobile-menu {
  @apply lg:hidden fixed inset-0 z-50 bg-white transform transition-transform duration-300;

  &.closed {
    @apply translate-x-full;
  }

  &.open {
    @apply translate-x-0;
  }
}

// ================================
// STATE UTILITIES
// ================================

// Loading states
.loading {
  @apply opacity-50 pointer-events-none;
}

.loading-spinner {
  @apply inline-block w-5 h-5 border-2 border-transparent border-t-primary-500 rounded-full animate-spin;
}

// Disabled states
.disabled {
  @apply opacity-60 cursor-not-allowed pointer-events-none;
}

// Success states
.success-state {
  @apply text-success-600 bg-success-50 border-success-200;
}

// Error states
.error-state {
  @apply text-error-600 bg-error-50 border-error-200;
}

// ================================
// COMPONENT COMBINATIONS
// ================================

// Form groups
.form-group {
  @apply space-y-2;

  label {
    @apply block text-sm font-medium text-gray-700;
  }

  input,
  textarea,
  select {
    @apply w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-2 focus:ring-primary-100;
  }

  .error {
    @apply text-sm text-error-600;
  }

  .help {
    @apply text-sm text-gray-500;
  }
}

// Navigation items
.nav-item {
  @apply px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200;

  &.active {
    @apply bg-primary-100 text-primary-700;
  }

  &:hover:not(.active) {
    @apply bg-gray-100 text-gray-900;
  }
}

// Status badges
.badge-modern {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;

  &.success {
    @apply bg-success-100 text-success-800;
  }

  &.warning {
    @apply bg-warning-100 text-warning-800;
  }

  &.error {
    @apply bg-error-100 text-error-800;
  }

  &.info {
    @apply bg-info-100 text-info-800;
  }

  &.neutral {
    @apply bg-gray-100 text-gray-800;
  }
}
